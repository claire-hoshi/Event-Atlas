:root{
  --rail-width: 64px;
  --fonts-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  /* DePauw palette (from brand sheet) */
  --brand-gold: #F2C75C;        /* PMS 141 */
  --brand-gold-dark: #E1B84A;   /* hover/darker gold */
  --brand-ink: #111C24;         /* Black */
  --brand-gray10: #63666A;      /* Cool Gray 10 */
  --brand-gray-wash: #EFEFEF;   /* light gray for dividers */
  --brand-teal: #16666F;        /* Web 5473 */
  --brand-teal-dark: #11545C;   /* hover */
  --page-bg: #f8fafc;           /* neutral background */
}

html, body {
  height: 100%;
  margin: 0;
  font-family: var(--fonts-sans, ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji");
}

/* Make sure common UI elements inherit our font (overrides Semantic UI defaults) */
body, .ui, .ui.button, .ui.input > input, .ui.dropdown, input, textarea, button, select {
  font-family: inherit !important;
}

/* Keep Semantic UI icon font intact */
i.icon, i.icons, .icon { font-family: Icons !important; }

/* Leaflet controls and popups should also use site font */
.leaflet-container,
.leaflet-popup-content,
.leaflet-control,
.leaflet-bar a,
.leaflet-control-attribution {
  font-family: var(--fonts-sans) !important;
}

section{
  height: 100vh;
  display: flex;
  justify-content: center; 
  align-items: center;     
  background: var(--page-bg);
  padding: 16px;          
}

.signup-form{
  min-width: 320px;
  max-width: 480px;
  width: 100%;
  text-align: center;
  box-sizing: border-box;
}

/* Login card: rounded, pill buttons */
.login-card{
  background: #ffffff;
  border: 1px solid var(--brand-gray-wash);
  border-radius: 24px;
  padding: 36px 28px 28px;
  min-height: 360px; /* make container vertically longer */
  box-shadow: 0 10px 30px rgba(0,0,0,0.06);
  display: flex;
  flex-direction: column;
  justify-content: center; /* balance vertical space */
  gap: 18px;
}
.login-title{
  font-size: 28px;
  font-weight: 800;
  color: var(--brand-ink);
  margin-bottom: 16px;
}
.login-error{
  display: none;
  color: #b91c1c; /* red-700 */
  background: #fef2f2;
  border: 1px solid #fee2e2;
  border-radius: 10px;
  padding: 8px 10px;
  margin-bottom: 12px;
}
.login-error.visible{ display:block; }
.login-actions{ display: flex; flex-direction: column; gap: 14px; margin-top: 0; }
.btn{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  width: 100%;
  border-radius: 999px;
  padding: 16px 18px; /* taller pills */
  border: 1px solid #d1d5db;
  background: #ffffff;
  color: var(--brand-ink);
  cursor: pointer;
  transition: background-color .15s ease, box-shadow .15s ease, transform .15s ease;
}
.btn:hover{ background: #f9fafb; }
.btn-primary{
  background: var(--brand-ink);
  color: #ffffff;
  border-color: var(--brand-ink);
}
.btn-primary:hover{ background: #000000; box-shadow: 0 8px 18px rgba(0,0,0,0.18); transform: translateY(-1px); }
.btn-secondary{ background: #ffffff; color: var(--brand-ink); border-color: #cfd4d9; }
.btn-gold{ background: var(--brand-gold); color: var(--brand-ink); border-color: var(--brand-gold); }
.btn-gold:hover{ background: var(--brand-gold-dark); box-shadow: 0 8px 18px rgba(0,0,0,0.18); transform: translateY(-1px); }
.login-hint{ margin-top: 0; color: #6b7280; font-size: 12px; }

#user-profile{
  display: none;            /* toggled to block by JS when signed in */
  width: 100%;
  max-width: 960px;         /* slightly narrower */
  margin: 0 auto;           /* center within the section */
}

/* Account panel layout */
.account-section{
  max-width: 960px;
  width: 100%;
  margin: 0 auto; /* center within section */
}

@media (min-width: 1280px){
  .account-section{ max-width: 1024px; }
}

.section-title{
  font-size: 1.25rem;
  font-weight: 600;
  color: rgba(0,0,0,0.75);
  margin: 4px 0 12px 4px;
}

.account-panel{
  background: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  padding: 16px 20px; /* compact */
  box-shadow: 0 1px 2px rgba(0,0,0,0.04);
}

.account-row{
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 4px;
}

.account-row .row-left{
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 1.1rem;
  color: rgba(0,0,0,0.85);
  min-width: 160px; /* keep label area roomy */
}

.account-row .row-right{
  flex: 1;
  text-align: right;
  font-size: 1.1rem;
  color: rgba(0,0,0,0.6);
  overflow-wrap: anywhere; /* avoid overflow for long emails */
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
}

.inline-edit{
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
  margin: 6px 0 0 0;
}

.row-divider{
  height: 1px;
  background: var(--brand-gray-wash);
  margin: 4px 0;
}

.account-actions{
  margin-top: 12px;
  text-align: left;
  display: flex;
  gap: 8px;
}

/* Profile image upload */
.profile-panel{ margin-top: 12px; }
.profile-row{
  display: flex;
  align-items: center;
  gap: 16px;
}
.avatar{
  width: 96px;
  height: 96px;
  border-radius: 50%;
  object-fit: cover;
  background: #ddd;
  border: 1px solid rgba(34,36,38,0.15);
}
.profile-controls .hint{
  margin-top: 6px;
  color: rgba(0,0,0,0.5);
  font-size: 0.9rem;
}

/* Event form layout */
#event-form-section .ui.form .field > label{ font-weight: 600; }
.event-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 16px 24px;
}
@media (max-width: 720px){
  .event-grid{ grid-template-columns: 1fr; }
}

/* Location picker map on the create-event page */
.location-map{
  height: 280px;
  border-radius: 8px;
  border: 1px solid #e5e7eb;
}

/* Inputs: rounded, light borders like screenshot */
.ui.form input[type="text"],
.ui.form input[type="email"],
.ui.form input[type="number"],
.ui.form input[type="datetime-local"],
.ui.form select,
.ui.form textarea{
  background: #ffffff !important;
  border: 1px solid #e5e7eb !important;
  border-radius: 10px !important;
  box-shadow: none !important;
}
.ui.form textarea{ padding-top: 10px !important; }

/* Remove Semantic UI grey segment look inside create-event page */
#event-form-section{ background: #ffffff; }

/* Attendee map layout */
/* Full-bleed attendee layout that fills the viewport */
.attendee-layout {
  display: grid;
  grid-template-columns: 360px 1fr;
  gap: 16px;
  position: fixed; /* occupy the full screen when visible */
  top: 0; right: 0; bottom: 0; left: var(--rail-width);
  padding: 16px;
  margin: 0;
  max-width: none;
  height: 100vh;
  box-sizing: border-box;
}

/* When profile is open, hide the map and let the sidebar fill */
.attendee-layout.profile-open {
  grid-template-columns: 1fr;
}
.attendee-layout.profile-open .attendee-map { display: none; }
.attendee-layout.profile-open .attendee-sidebar {
  height: 100%;
  max-width: none;
}
.attendee-layout.profile-open .site-title{ display: none; }

.attendee-sidebar {
  background: #fff;
  border-radius: 8px;
  padding: 0;
  box-shadow: 0 8px 20px rgba(0,0,0,0.06);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.attendee-panel {
  padding: 16px;
}

.attendee-hero {
  padding-bottom: 8px;
}
.attendee-title { margin: 0 0 2px; font-size: 22px; font-weight: 700; font-family: var(--fonts-sans) !important; color: var(--brand-ink); }
.attendee-subtitle { margin: 0 0 10px; color: #6b7280; }

.attendee-search { margin-bottom: 12px; }
.attendee-filters { display: flex; gap: 8px; margin-top: 8px; }

.search-input {
  position: relative;
  background: #f3f4f6;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  display: flex;
  align-items: center;
  padding: 6px 10px;
}
.search-input i.icon {
  color: #9ca3af;
  margin-right: 8px;
}
.search-input input {
  outline: none;
  border: none;
  background: transparent;
  width: 100%;
}

.attendee-count { color: #6b7280; font-size: 12px; margin-top: 8px; }
.attendee-section-title { font-weight: 700; margin: 8px 0 8px; }

/* Organizer tabs */
.org-tabs{
  display: flex;
  gap: 6px;
  margin: 6px 0 6px;
}
.org-tabs .tab{
  border: 1px solid #e5e7eb;
  background: #f3f4f6;
  color: #374151;
  padding: 6px 10px;
  border-radius: 999px;
  cursor: pointer;
  font-size: 12px;
}
.org-tabs .tab.active{ background: var(--brand-teal); color:#fff; border-color: var(--brand-teal); }

/* Brand the section title line */
.attendee-section-title{ color: var(--brand-ink); }

/* Primary buttons (Semantic) */
.ui.primary.button,
.ui.buttons .primary.button{ background: var(--brand-ink) !important; border-color: var(--brand-ink) !important; color:#fff !important; }
.ui.primary.button:hover,
.ui.buttons .primary.button:hover{ background: #0b1219 !important; }

/* Optional gold variant for actions */
.ui.button.gold{ background: var(--brand-gold) !important; color: var(--brand-ink) !important; border-color: var(--brand-gold) !important; }
.ui.button.gold:hover{ filter: brightness(0.95); }

/* Simple site title (no box) */
.site-title{
  font-size: 20px;
  font-weight: 800;
  color: #1f2937;
  line-height: 1.2;
  margin: 0 0 8px;
  font-family: var(--fonts-sans) !important;
}

.attendee-list {
  overflow: auto;
  padding-right: 6px;
  flex: 1 1 auto;
}

.event-card {
  display: flex;
  gap: 12px;
  padding: 10px;
  border: 1px solid #eee;
  border-radius: 8px;
  margin-bottom: 10px;
  cursor: pointer;
  }
.event-card:hover { background: #fafafa; }
.event-card-img { width: 44px; height: 44px; border-radius: 6px; object-fit: cover; background: #f0f0f0; }
.event-card-body { display: flex; flex-direction: column; gap: 2px; }
.event-card-title { font-weight: 600; }
.event-card-meta { color: #666; font-size: 12px; }

.event-dot {
  width: 10px; height: 10px; border-radius: 50%; margin-top: 8px; flex: 0 0 10px;
}

.attendee-map { position: relative; min-height: 420px; height: 100%; }
#map { position: absolute; inset: 0; border-radius: 8px; }

/* Avatar markers (Leaflet divIcon) */
.avatar-marker img{ 
  width: 40px; height: 40px; border-radius: 50%;
  object-fit: cover; display:block;
  border: 2px solid #fff;
  box-shadow: 0 0 0 1px rgba(0,0,0,0.2);
}

/* Teardrop pin markers */
.pin-marker svg{ filter: drop-shadow(0 2px 3px rgba(0,0,0,0.25)); }
.pin-marker text{ font-family: var(--fonts-sans); dominant-baseline: middle; }

/* Topbar with profile icon */
.attendee-topbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 8px;
}
.topbar-left{ display:flex; align-items:center; gap:8px; }
.topbar-right{ display:flex; align-items:center; }
.icon-button {
  background: #f3f4f6;
  border: 1px solid #e5e7eb;
  color: #374151;
  border-radius: 9999px;
  padding: 8px 10px;
  cursor: pointer;
}
.icon-button.small { padding: 6px 8px; }
.icon-button:hover { background: #eef2f7; }
.icon-button.primary{ background: var(--brand-teal); border-color: var(--brand-teal); color:#fff; }
.icon-button.primary:hover{ background: var(--brand-teal-dark); }

/* Plain icon button (no background/border) */
.icon-button.plain{
  background: transparent;
  border: none;
  padding: 0;
  color: #111827; /* near black */
}
.icon-button.plain:hover{ background: transparent; color: #000; opacity: 0.9; }

@media (max-width: 980px) {
  .attendee-layout { grid-template-columns: 1fr; }
  .attendee-map { height: 420px; }
  #map { position: relative; height: 420px; }
}

/* Left Rail (full-height bar like the screenshot) */
.left-rail{
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  width: var(--rail-width);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  padding: 12px 8px 14px;
  background: #ffffff; /* white rail per brand */
  border-right: 1px solid var(--brand-gray-wash); /* subtle divider */
  z-index: 500;
}
.rail-spacer{ flex: 1; }
.rail-btn{
  position: relative;
  width: 36px;
  height: 36px;
  border-radius: 999px;
  border: 1px solid #e5e7eb;
  background: #f3f4f6;
  color: #374151;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}
.rail-btn:hover{ background: #eef2f7; }
.rail-btn i.icon{ margin: 0; }
.rail-btn#rail-create-btn{ background:#bdb6b6; border-color:#c9c4c4; color:#ffffff; }
.rail-btn#rail-create-btn:hover{ background:#a8a1a1; }
/* Reusable filled gray style for rail buttons */
/* Rail buttons in brand colors */
.rail-btn.event-style{ background:#bdb6b6; border-color:#c9c4c4; color:#ffffff; }
.rail-btn.event-style:hover{ background:#a8a1a1; }
/* Override per button to match DePauw black + gold */
#rail-home-btn.rail-btn.event-style{ background: var(--brand-ink); border-color: var(--brand-ink); color:#ffffff; }
#rail-home-btn.rail-btn.event-style:hover{ background:#0b1219; }
#rail-create-btn.rail-btn.event-style{ background: var(--brand-gold); border-color: var(--brand-gold); color: var(--brand-ink); }
#rail-create-btn.rail-btn.event-style:hover{ background: var(--brand-gold-dark); }

/* Keep topbar create button consistent if shown */
#create-event-btn.icon-button.primary{ background:#bdb6b6; border-color:#c9c4c4; color:#ffffff; }
#create-event-btn.icon-button.primary:hover{ background:#a8a1a1; }

/* Match event-style circular gray icon */
.icon-button.event-style{
  background:#bdb6b6;
  border-color:#c9c4c4;
  color:#ffffff;
}
.icon-button.event-style:hover{ background:#a8a1a1; }

/* Avatar image inside profile rail button */
#rail-avatar{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  border-radius: 999px;
  object-fit: cover;
  display: none; /* shown when URL set */
}
/* Ensure the rail sits above the map controls but doesn’t block them excessively */
.leaflet-right{ z-index: 400; }
